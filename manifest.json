{
  "manifest_version": "0.2",
  "name": "ssh-pihole",
  "version": "3.0.0",
  "description": "Execute commands on a remote server via SSH with optional command wrapper (e.g., srt for sandboxing)",
  "author": {
    "name": "Carlos"
  },
  "server": {
    "type": "node",
    "entry_point": "server/index.js",
    "mcp_config": {
      "command": "node",
      "args": [
        "${__dirname}/server/index.js",
        "--host",
        "${user_config.ssh_host}",
        "--user",
        "${user_config.ssh_user}",
        "--key",
        "${user_config.ssh_key}",
        "--timeout",
        "${user_config.command_timeout}",
        "--wrapper",
        "${user_config.command_wrapper}"
      ]
    }
  },
  "user_config": {
    "ssh_host": {
      "title": "SSH Host",
      "description": "Hostname or IP address of the remote server",
      "type": "string",
      "required": true
    },
    "ssh_user": {
      "title": "SSH Username",
      "description": "Username for SSH connection",
      "type": "string",
      "required": true
    },
    "ssh_key": {
      "title": "SSH Private Key Path",
      "description": "Full path to SSH private key (e.g., C:\\\\Users\\\\YourUsername\\\\.ssh\\\\id_ed25519)",
      "type": "string",
      "required": true
    },
    "command_timeout": {
      "title": "Command Timeout (seconds)",
      "description": "Maximum time to wait for command completion (default: 15 seconds)",
      "type": "string",
      "required": false,
      "default": "15"
    },
    "command_wrapper": {
      "title": "Command Wrapper",
      "description": "Optional wrapper command (e.g., 'srt' for sandboxing, 'timeout 30' for time limits, or leave empty for direct execution)",
      "type": "string",
      "required": false,
      "default": ""
    }
  },
  "tools": [
    {
      "name": "command",
      "description": "Execute a command on the remote server"
    }
  ],
  "license": "MIT"
}
